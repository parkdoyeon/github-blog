{"componentChunkName":"component---src-templates-post-js","path":"/tdd-jenkins에-python-환경세팅하고-테스트-대시보드-allure-report-연동하기","result":{"data":{"markdownRemark":{"html":"<h1 id=\"jekins에-파이썬-세팅하기\"><a href=\"#jekins%EC%97%90-%ED%8C%8C%EC%9D%B4%EC%8D%AC-%EC%84%B8%ED%8C%85%ED%95%98%EA%B8%B0\" aria-label=\"jekins에 파이썬 세팅하기 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Jekins에 파이썬 세팅하기</h1>\n<ol>\n<li>System Configuration > Global Properties > Environment Variables 체크</li>\n<li>이름: <code class=\"language-text\">PYTHON_PATH</code></li>\n<li>값: <code class=\"language-text\">C:\\Python\\Python36;C:\\Python\\Python36\\Scripts;</code> (젠킨스가 돌아가는 호스트 환경변수에 세팅된 파이썬 경로 입력)</li>\n<li>프로젝트 생성 > 구성 > General 탭 > Build > Add build step</li>\n<li>윈도우라면 Execute Windows Batch Command 선택하고 아래의 스크립트 추가</li>\n<li>\n<p>패키지 변경감지를 위해 파이썬 가상환경을 세팅하고 pip install 세팅</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">SET <span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span>%<span class=\"token environment constant\">PATH</span>%,%PYTHON_PATH%\nvirtualenv venv\ncall venv/Scripts/activate.bat\npip <span class=\"token function\">install</span> -r requirements.txt\npy.test --alluredir<span class=\"token operator\">=</span>./allure-results <span class=\"token comment\"># pytest의 allure report 결과 생성을 위한 디렉토리 설정</span>\ndeactivate</code></pre></div>\n</li>\n</ol>\n<h1 id=\"jenkins에-allure-report-세팅\"><a href=\"#jenkins%EC%97%90-allure-report-%EC%84%B8%ED%8C%85\" aria-label=\"jenkins에 allure report 세팅 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Jenkins에 Allure Report 세팅</h1>\n<ol>\n<li>플러그인 관리 > 설치가능탭 > Allure Jenkins Plugin 설치</li>\n<li>프로젝트 생성 > 구성 > General 탭 > Build > 빌드 후 조치 > 빌드 후 조치 추가</li>\n<li>Allure Report 선택 후, 위의 py.test에 파라미터로 넘긴 allure-results path를 넣어준다.\n<img src=\"/image/python/2019-05-28-jekins-to-pytest-1.PNG\" alt=\"jenkins\"></li>\n</ol>\n<h1 id=\"jenkins-빌드-실행하기\"><a href=\"#jenkins-%EB%B9%8C%EB%93%9C-%EC%8B%A4%ED%96%89%ED%95%98%EA%B8%B0\" aria-label=\"jenkins 빌드 실행하기 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Jenkins 빌드 실행하기</h1>\n<p>빌드를 실행하면 대시보드에 다음과 같은 그래프가 생성된다. 그래프에는 테스트 성공케이스와 실패 케이스가 표시되어있다. 빌드 히스토리에는 케이스별 Allure-Report를 조회할 수 있는 아이콘이 생긴다.</p>\n<p><img src=\"/image/python/2019-05-28-jekins-to-pytest-3.PNG\" alt=\"jenkins\"></p>\n<h1 id=\"allure-report\"><a href=\"#allure-report\" aria-label=\"allure report permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Allure Report</h1>\n<p>Allure Report 페이지에 들어가면 더 자세한 테스트 현황 그래프가 조회된다. Suites에 들어가면 케이스별 테스트 정보가 확인된다.</p>\n<p>작성했던 테스트 코드 내에서 저장한 스크린샷도 테스트 함수 단위로 함께 첨부된 것을 볼 수 있다.</p>","timeToRead":1,"excerpt":"Jekins에 파이썬 세팅하기 System Configuration > Global Properties > Environment Variables…","frontmatter":{"title":"TDD - Jenkins에 Python 환경세팅하고 테스트 대시보드 Allure Report 연동하기","cover":"","date":"2019-05-28T15:17:02.000Z","categories":["Phython"],"tags":["python","jenkins","tdd"]},"fields":{"slug":"/tdd-jenkins에-python-환경세팅하고-테스트-대시보드-allure-report-연동하기","date":"May 27, 2019"}}},"pageContext":{"slug":"/tdd-jenkins에-python-환경세팅하고-테스트-대시보드-allure-report-연동하기","nexttitle":"ssms 사용할때 자주쓰는 명령어 정리","nextslug":"/ssms-사용할때-자주쓰는-명령어-정리","prevtitle":"TDD - 셀레니움과 pytest로 브라우저 테스트 코드 작성하기","prevslug":"/tdd-셀레니움과-pytest로-브라우저-테스트-코드-작성하기"}}}