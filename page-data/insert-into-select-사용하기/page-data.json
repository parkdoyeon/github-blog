{"componentChunkName":"component---src-templates-post-js","path":"/insert-into-select-사용하기","result":{"data":{"markdownRemark":{"html":"<p>다음과 같은 상황이 있다.</p>\n<ol>\n<li>table<em>1의 특정 컬럼값(Coupon)을 table</em>2에 인서트하고 싶을때.</li>\n<li>table_2에 다른 컬럼(RegDate)이 있어서 고정된 값('2019-03-04')을 넣어줘야 할때.</li>\n<li>인서트하는 pk 컬럼(AccountNo)이 있어서 인서트 row마다 값을 임의로 지정해줘야 할때. (table_2 인덱스 넘버에서 1씩 추가 하는 것으로지정)</li>\n</ol>\n<p>이때 서브쿼리처럼 조회 쿼리를 생성해서 insert할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> <span class=\"token punctuation\">[</span>table_2<span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">(</span>AccountNo<span class=\"token punctuation\">,</span>\n    Coupon<span class=\"token punctuation\">,</span>\n    RegDate<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span>\n        <span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> <span class=\"token function\">MAX</span><span class=\"token punctuation\">(</span>Seq<span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> <span class=\"token punctuation\">[</span>table_2<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token punctuation\">(</span>ROW_NUMBER<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">OVER</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">Order</span> <span class=\"token keyword\">BY</span> @<span class=\"token variable\">@identity</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        Coupon<span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'2019-03-04'</span>\n    <span class=\"token keyword\">FROM</span> table_1<span class=\"token punctuation\">)</span></code></pre></div>","timeToRead":1,"excerpt":"다음과 같은 상황이 있다. table1의 특정 컬럼값(Coupon)을 table2에 인서트하고 싶을때. table_2에 다른 컬럼(RegDate)이 있어서 고정된 값('2019-03-04')을 넣어줘야 할때. 인서트하는 pk 컬럼(AccountNo…","frontmatter":{"title":"insert into select 사용하기","cover":"","date":"2019-03-14T18:14:00.000Z","categories":["SQL"],"tags":["mssql","insert"]},"fields":{"slug":"/insert-into-select-사용하기","date":"March 13, 2019"}}},"pageContext":{"slug":"/insert-into-select-사용하기","nexttitle":"기존 테이블에 PK키 추가하기","nextslug":"/기존-테이블에-pk키-추가하기","prevtitle":"SVM - 1. yi(x·w+b) >= 1 도출하기","prevslug":"/svm-1-yi-x-w-b-1-도출하기"}}}